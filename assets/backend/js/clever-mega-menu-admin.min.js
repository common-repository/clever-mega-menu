function clever_menu_close_vc_popup(){jQuery(".clever-mega-menu-popup").hide(),jQuery("#clever-mega-menu-overlay").hide()}function clever_menu_toggle_fields(e,n,t,i){return e.val()===i?(t.hide(),n.show()):(n.hide(),t.show()),!1}function clever_menu_insert_iconic_value(e,t){return jQuery(e).on("click",function(){var n,e;e=jQuery(this),c=e.parent("label"),(n=e.next(t,c)).toggle("fast"),jQuery(jQuery(t+" span"),c).on("click",function(){var e=jQuery(this,c).attr("class");c.find(".clever-mega-menu-icon").attr("class","clever-mega-menu-icon "+e),c.find("input").val(e),n.hide("fast")})}),!1}window.clever_mega_menu_item_title="",window.currentEditItem={},jQuery(document).ready(function(m){m(".wp-color-picker").wpColorPicker(),m(".wp-color-result").attr("title",cleverMenuI18n.select),clever_menu_insert_iconic_value(".clever-mega-menu-icon",".clever-mega-menu-icons"),m(function(){var e=m(".clever-mega-menu-item-icon"),n=m(".clever-mega-menu-item-edit-btn"),t=m("#clever-mega-menu-enable-checkbox"),i=m(".clever-mega-menu-advanced-setting");t.is(":checked")?(n.addClass("clever-mega-menu-active-edit-btn"),e.show(),i.show()):(n.removeClass("clever-mega-menu-active-edit-btn"),e.hide(),i.hide()),t.change(function(){t.is(":checked")?(n.addClass("clever-mega-menu-active-edit-btn"),e.show(),i.show()):(n.removeClass("clever-mega-menu-active-edit-btn"),e.hide(),i.hide())})})});var cleverMenuEditor=function(e){var t=this,i=jQuery;t.item=e,t.tpl=i(i("#clever-mega-menu-popup-tpl").html()),t.navId=i("#update-nav-menu #menu").val(),t.menuId=i("input.menu-item-data-db-id",e).val(),t.settings=!1,void 0!==cleverMenuItems[t.menuId]&&(t.settings=cleverMenuItems[t.menuId]),t.settings&&(""!==t.settings.options.icon&&i(".item-title",e).prepend('<span class="clever-mega-menu-item-icon"><i class="'+t.settings.options.icon+'"></i></span>'),1===t.settings.options.enable||"1"===t.settings.options.enable?e.addClass("clever-mega-menu-item-mega-enabled"):e.removeClass("clever-mega-menu-item-mega-enabled")),t.autoFrameHeight=function(){i(window).width()<800?t.tpl.css({left:"20px",top:i("#wpadminbar").height()+20+"px"}):t.tpl.css({left:i("#adminmenuback").width()+20+"px",top:i("#wpadminbar").height()+20+"px"}),i(".clever-mega-menu-popup").each(function(){var e=t.tpl.height();i("iframe",t.tpl).eq(0).height(e-30)})},t.setPopupTitle=function(){window.clever_mega_menu_item_title=i(".edit-menu-item-title",e).val()},t.hidePopup=function(){t.tpl.hide(),i("#clever-mega-menu-overlay").remove()},t.openPopup=function(e){var n;window.currentEditItem=t,0<i("iframe",t.tpl).length||(n=cleverMenuConfig.newCleverMenu+"&clever_menu_id="+t.navId+"&clever_menu_item_id="+t.menuId,t.tpl.append('<iframe id="clever-mega-menu-item-frame-'+t.menuId+'" src="'+n+'" class="clever-mega-menu-iframe"></iframe>'));t.frame=i("iframe",t.tpl).eq(0),t.tpl.attr("id","clever-mega-menu-menu-id-"+t.menuId),i("#clever-mega-menu-overlay").remove(),i("body").append('<div id="clever-mega-menu-overlay"></div>'),i("#clever-mega-menu-overlay").on("click",function(){return t.hidePopup(),!1}),i("body .clever-mega-menu-popup").hide(),t.setPopupTitle(),0<i("#clever-mega-menu-menu-id-"+t.menuId).length?t.autoFrameHeight():(t.autoFrameHeight(),i("body").append(t.tpl),t.autoFrameHeight(),i(window).resize(function(){t.autoFrameHeight()})),t.tpl.show()},i(".clever-mega-menu-item-edit-btn",e).on("click",function(){return t.openPopup(e),!1})},cleverMenuAddEditBtn=function(){enableCleverMenu=jQuery("#clever-mega-menu-enable-checkbox"),jQuery("li",wpNavMenu.menuList).each(function(){var e=jQuery(this),n=jQuery(".item-title",e),t="clever-mega-menu-item-edit-btn";enableCleverMenu.is(":checked")&&(t="clever-mega-menu-item-edit-btn clever-mega-menu-active-edit-btn"),0===jQuery(".clever-mega-menu-item-edit-btn",e).length&&(n.append('<span class="'+t+'"><i class="dashicons dashicons-admin-customizer"></i>'+cleverMenuI18n.megaMenu+"</span>"),new cleverMenuEditor(e))})};"undefined"!=typeof wpNavMenu&&(wpNavMenu.addItemToMenu=function(e,t,i){var m,u=jQuery,n=u("#menu").val(),a=u("#menu-settings-column-nonce").val();t=t||function(){},i=i||function(){},m={action:"add-menu-item",menu:n,"menu-settings-column-nonce":a,"menu-item":e},u.post(ajaxurl,m,function(e){var n=u("#menu-instructions");e=u.trim(e),t(e,m),u("li.pending").hide().fadeIn("slow"),u(".drag-instructions").show(),!n.hasClass("menu-instructions-inactive")&&n.siblings().length&&n.addClass("menu-instructions-inactive"),cleverMenuAddEditBtn(u),i()})}),jQuery(document).ready(function(e){"undefined"!=typeof wpNavMenu&&cleverMenuAddEditBtn(),e("form#update-nav-menu").submit(function(){e("body .clever-mega-menu-popup").remove()})}),window.clever_menu_data_item_changes=function(e,n){window.currentEditItem.tpl.hide(),n.is_update||jQuery("iframe",window.currentEditItem.tpl).remove(),jQuery("#clever-mega-menu-overlay").remove(),cleverMenuItems[window.currentEditItem.menuId]={url:n.url,options:n.settings},window.currentEditItem.settings={url:n.url,options:n.settings},jQuery(".clever-mega-menu-item-icon",window.currentEditItem.item).remove(),""!==n.settings.icon&&jQuery(".item-title",window.currentEditItem.item).prepend('<span class="clever-mega-menu-item-icon"><i class="'+n.settings.icon+'"></i></span>'),1===n.settings.enable||"1"===n.settings.enable?window.currentEditItem.item.addClass("clever-mega-menu-item-mega-enabled"):window.currentEditItem.item.removeClass("clever-mega-menu-item-mega-enabled"),"undefined"!=typeof wpNavMenu&&(wpNavMenu.menusChanged=!1)};